---
title: Aternity APM for VMware Tanzu
owner: Partners
---



<!-- 12/05/2018: Earl says, for 10.17, no longer beta
<p class="note warning"><strong>WARNING:</strong> The Aprernity APM for VMware Tanzu is currently in Beta and is intended for evaluation and test purposes only. Do not use this product in a VMware Tanzu production environment.</p>
-->

## <a id='overview'></a>Overview

This documentation describes how to install Aternity™ APM for VMware Tanzu and configure
applications to start using APM monitoring.

APM agents instrument and monitor .NET Core  and Java applications to capture every application transaction. In addition, the agent collects key operating system metrics for VM hosts (Diego/compute cells) where application containers are running.

The APM analysis server harvests, processes, and displays this data, giving you immediate insight into application performance problems.

See the following links for more information on APM:

* [Product overview](https://www.aternity.com/application-performance-monitoring/)
* [Product documentation](http://doc.steelcentral.net/)

<!-- Kirk, 06/07/2018: No, the note in the following comment (from the boilerplate) is wrong.  The content in this section does NOT seem to be shared automatically.  Compare these 2 links for AppDynamics:
The comparable docs Overview section: https://docs.pivotal.io/partners/appdynamics/index.html#overview
The corresponding 'Product overview' in http://network.pivotal.io: https://network.pivotal.io/products/p-appdynamics/
-->
<!-- **Note**: This overview will appear under **OVERVIEW**, combined with the description above in the tile's listing on
[Tanzu Network](https://network.pivotal.io/products/riverbed-appinternals/).-->


## <a id='features'></a> Summary of Steps

<!--This is a comment that is stripped out by the ruby processor
**Note**: This feature list will appear under **FEATURES** in the tile's listing on
[Pivotal Network](http://network.pivotal.io).
Make sure you list the key features of the tile (the integration).
We cannot accept a list of the key features of your product that we are integrating.-->

Aternity® APM  for VMware Tanzu includes an Aternity APM Service Broker and a
BOSH add-on for the APM Agent.
Install and configure the tile to deploy the agent on VMware Tanzu VM hosts. Create an APM service instance. Then, bind each application you want to monitor to the APM service instance.

<%= image_tag("./images/architecture.png") %>

One-time steps in the VMware Tanzu environment:

1. In VMware Tanzu Ops Manager, [import the tile](installing.html#install).
2. In VMware Tanzu Ops Manager, [configure the tile](installing.html#config) to specify connection details for the analysis server that will host the agent data.
3. In Pivotal Apps Manager, [create an instance of the APM service](installing.html#service).

Steps for each application (repeat these steps when the application changes):

1. [Set Environment Variables](using.html#envvars) for the application, usually in its manifest.
1. [Bind the application](using.html#bind) to the APM service instance.
1. [Restage](using.html#restage) the application.


## <a id="snapshot"></a> Product Snapshot

The following table provides version and version-support information about the Aternity APM for VMware Tanzu.

<table class="nice">
    <th>Element</th>
    <th>Details</th>
    <tr>
        <td>Tile version</td>
        <td>v11.7.1-BL518</td>
    </tr>
    <tr>
        <td>Release date</td>
        <td>September 25, 2020</td>
    </tr>
    <tr>
        <td>Software component version</td>
        <td>v11.7.1</td>
    </tr>
    <tr>
        <td>Compatible Ops Manager version(s)</td>
        <td>v2.7.x, v2.8.x, v2.9.x </td>
    </tr>
    <tr>
        <td>Compatible VMware Tanzu Application Service for VMs version(s)</td>
        <td>v2.7.x, v2.8.x, v2.9.x </td>
    </tr>
    <tr>
       <td>BOSH stemcell version</td>
       <td>Ubuntu Xenial</td>
    </tr>
    <tr>
        <td>IaaS support</td>
        <td>AWS, GCP, vSphere, Azure, and OpenStack</td>
    </tr>
    <tr>
        <td>IPsec support?</td>
        <td>Yes</td>
    </tr>
</table>


## <a id="reqs"></a> Requirements

You must have an APM analysis server available to harvest transactional and environmental data from your application generated by the APM agent. You specify the analysis server when you [configure the APM service broker](installing.html#config).

As described in [Licensing](#license), the analysis server must be licensed in order to display data harvested from agents.


## <a id='simplified'></a> Offline Buildpack Instructions
Alternatively, deploy Aternity® APM for VMware Tanzu by simply adding the buildpack and environment variables to your application's manifest.

<%= image_tag("./images/agentless-architecture.png") %>

### One-time Setup Steps

#### Buildpack

[Create a versioned offline buildpack](https://cli.cloudfoundry.org/en-US/cf/create-buildpack.html).

```
cf create-buildpack aternity-apm-dotnet-core-buildpack-11_7_1_BL518 aternity-apm-dotnet-core-buildpack-11.7.1_BL518.zip
```

Versioning the buildpacks allow you to use different versions of the instrumentation with different applications.

#### Application Security Group

The APM instrumentation communicates to the Analysis Server using port 7090 by default.  [An application security group](https://docs.cloudfoundry.org/concepts/asg.html) must be defined to enable this communication.

Example JSON configuration, where Analysis Server IP is 192.0.2.1.

```
[
  {
    "protocol": "tcp",
    "destination": "192.0.2.1",
    "ports": "7090",
    "log": true,
    "description": "Allow instrumentation traffic to Analysis Server"
  }
]
```

Create the security group and then bind it.

```
cf create-security-group NAME PATH-TO-JSON-FILE
cf bind-running-security-group NAME
```

### Instrumenting An Application

Add environment variables to the [env block of your application's manifest.yml](https://docs.cloudfoundry.org/devguide/deploy-apps/manifest-attributes.html#env-block).

```
  env:
    RVBD_APP_CONFIG: <config-name>
    RVBD_APP_INSTANCE: <instance-name>
    RVBD_ANALYSIS_SERVER: 192.0.2.1
```

Add the versioned Aternity APM buildpack to the [buildpacks block in your application’s manifest.yml](https://docs.cloudfoundry.org/devguide/deploy-apps/manifest-attributes.html#buildpack).

```
  buildpacks:
  - aternity-apm-dotnet-core-buildpack-11_7_1_BL518
  - dotnet_core_buildpack
```

Push your application.

```
cf push
```

## <a id="limitations"></a> Limitations

This version does not support Applications on Windows stemcells.


## <a id="feedback"></a> Feedback

For VMware Tanzu feature requests, questions, or information about a bug, email [VMware Tanzu Feedback](mailto:cf-feedback@pivotal.io).

For APM support:

* Email [Aternity Support](mailto:support@aternity.com).
* Call Aternity Support at 1-617-250-5309.
* Go to the [Aternity support page](https://support.aternity.com/) (login required).


## <a id='license'></a> Licensing

The APM analysis server is available as a Software as a Service (SaaS) offering and as an on-premises installation.

* For a free trial, [sign up here](https://www.aternity.com/free-trial/#apm)

* For details on how to buy, go [here](https://www.aternity.com/how-to-buy/)
